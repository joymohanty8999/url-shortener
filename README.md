# URL Shortener

A URL shortener service built with Go, MongoDB, and Gorilla Mux. This service shortens long URLs and provides an API to retrieve the original URL and check the expiration status of the shortened URL. Along with these three features, the user can also request all the URLs generated by them.

## Live Demo

You can try out the URL shortener at the following link:

[URL Shortener App](https://url-shortner-app-c77549506d40.herokuapp.com/)

## Features

- Shorten a long URL
- Retrieve the original URL from the shortened URL
- Check if a URL is stored in the database and if it is expired
- Store URLs in a MongoDB database with an expiration time

## Usage

1. Visit the [URL Shortener App](https://url-shortner-app-c77549506d40.herokuapp.com/).
2. Enter a long URL in the input field.
3. Click on the "Shorten" button.
4. The shortened URL will be displayed below the input field.

## Prerequisites

- Go 1.16+
- MongoDB 4.4+
- A running MongoDB instance

## Installation

### 1. Clone the repository

```sh
git clone https://github.com/your-username/url-shortener.git
cd url-shortener
```
### 2. Install GO Dependencies

```sh
go mod tidy
```

###  Install and start MongoDB

#### macOS

######  1. Add the MongoDB Homebrew tap:

```sh
brew tap mongodb/brew
```

######  2. Install MongoDB Community Edition:

```sh
brew install mongodb-community@6.0
```

###### 3. Start the MongoDB service:

```sh
brew services start mongodb/brew/mongodb-community@6.0
```

## Running the application

### 1. Ensure MongoDB is running
### 2. Set your environment variables
```sh
export MONGODB_URI="your-mongodb-uri"
```
### 3. Build and start the GO Server
```sh
go build -o bin/url-shortener main.go
./bin/url-shortener
```
### Deploying to Heroku

### 1. Create a Heroku App:
```sh
heroku create your-app-name
```
### 2. Add MongoDB Add-on
```sh
heroku addons:create mongolab:sandbox
```
### 3. Set environment variables
```sh
heroku config:set MONGODB_URI="your-mongodb-uri"
```
### 4. Deploy to Heroku
```sh
git add .
git commit -m "your message"
git push heroku main
```

## API Endpoints

### Shorten URL

- **URL:** `/api/shorten`
- **Method:** `POST`
- **Request Body:**
  ```json
  {
    "url": "https://www.example.com"
  }
  ```

- **Response:**
    ```json
    {
        "short_url": "http://short.url/abc123"
    }
    ```

![Shorten Image](https://i.imgur.com/THymmkd.png)

### Retrieve URL

- **URL:** `/api/{shortURL}`
- **Method:** `GET`


- **Response:** 
    ```json
    {
        "original_url": "http://www.example.com"
    }
    ```

![Retrieve Image](https://i.imgur.com/VUH9yJu.png)

### Check validity of URL


- **URL:** `/api/shorten`
- **Method:** `POST`
- **Request Body:**
  ```json
  {
    "url": "https://www.example.com"
  }
  ```

- **Response:**
    ```json
    {
        "exists": "true"
        "short_url": "https://www.example.com",
        "expired": "true/false"
    }
    ```

![Check Validity](https://imgur.com/a0IE22v.png)

### Get All generated short URLs

- **URL:** `/api/shorten`
- **Method:** `POST`

- **Request Body:**
    ```json
    [
        {
            "short_url": "abc123",
            "original_url": "https://www.example.com",
            "expiration": "date-time"
        }
    ]
    ```

![Get All URLs](https://imgur.com/a6mJ298.png)

## Future Scope and Improvements

- **User Authentication:**
  - Implement user authentication to allow users to create accounts and log in.
  - Use OAuth providers (e.g., Google, Facebook) for easy login.

- **User-Specific URLs:**
  - Allow users to manage their own set of shortened URLs.
  - Provide a dashboard where users can view, edit, and delete their URLs.

- **Custom Short URLs:**
  - Allow users to specify custom aliases for their shortened URLs (e.g., `https://short.url/customAlias`).


