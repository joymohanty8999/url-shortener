# URL Shortener

A URL shortener service built with Go, MongoDB, and Gorilla Mux. This service shortens long URLs and provides an API to retrieve the original URL and check the expiration status of the shortened URL. Along with these three features, the user can also request all the URLs generated by them.

## Features

- Shorten a long URL
- Retrieve the original URL from the shortened URL
- Check if a URL is stored in the database and if it is expired
- Store URLs in a MongoDB database with an expiration time

## Prerequisites

- Go 1.16+
- MongoDB 4.4+
- A running MongoDB instance

## Installation

### 1. Clone the repository

```sh
git clone https://github.com/your-username/url-shortener.git
cd url-shortener
```
### 2. Install GO Dependencies

```sh
go mod tidy
```

###  Install and start MongoDB

#### macOS

######  1. Add the MongoDB Homebrew tap:

```sh
brew tap mongodb/brew
```

######  2. Install MongoDB Community Edition:

```sh
brew install mongodb-community@6.0
```

###### 3. Start the MongoDB service:

```sh
brew services start mongodb/brew/mongodb-community@6.0
```

## Running the application

### 1. Ensure MongoDB is running
### 2. Set your environment variables
```sh
export MONGODB_URI="your-mongodb-uri"
```
### 3. Build and start the GO Server
```sh
go build -o bin/url-shortener main.go
./bin/url-shortener
```
### Deploying to Heroku

### 1. Create a Heroku App:
```sh
heroku create your-app-name
```
### 2. Add MongoDB Add-on
```sh
heroku addons:create mongolab:sandbox
```
### 3. Set environment variables
```sh
heroku config:set MONGODB_URI="your-mongodb-uri"
```
### 4. Deploy to Heroku
```sh
git add .
git commit -m "your message"
git push heroku main
```

## API Endpoints

### Shorten URL

POST /shorten
```json
{
    "url":"https://your-website.com"
}
```

![shorten](https://github.com/joymohanty8999/url-shortener/assets/43529511/cb026aec-fa21-4726-bbaf-a16c558426dd)

### Retrieve URL

GET /{short_url}

![retrieve](https://github.com/joymohanty8999/url-shortener/assets/43529511/f3dd5b42-0cda-4381-8dbf-ff13a200bffa)

### Check validity of URL

POST /check

![check](https://github.com/joymohanty8999/url-shortener/assets/43529511/c44f9662-b5c3-4145-8fb7-d9858063745f)

### Get All generated short URLs

GET /urls

![getallurls](https://github.com/joymohanty8999/url-shortener/assets/43529511/f6d97e2b-343f-4ea8-ba8a-719408649f58)



